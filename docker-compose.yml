version: "3.9"

services:
  api:
    build:
      context: .
    ports:
      - "8080:8080"
    environment:
      APP_ENV: local
      API_KEY: local-dev-key
      SQLITE_JDBC_URL: jdbc:sqlite:/var/lib/sqlite/mvp.sqlite
      MEDIA_ROOT: /var/lib/media
    volumes:
      - sqlite_data:/var/lib/sqlite
      - media_data:/var/lib/media
    restart: unless-stopped

volumes:
  sqlite_data:
  media_data:
